--[[
    init.lua
    Created: 01/03/2024 21:27:55
    Description: Autogenerated script file for the map cutscenecrumblingcanyon.
]]--
-- Commonly included lua functions and data
require 'what_does_n_stand_for.common'

-- Package name
local cutscenecrumblingcanyon = {}

-- Local, localized strings table
-- Use this to display the named strings you added in the strings files for the map!
-- Ex:
--      local localizedstring = STRINGS.MapStrings['SomeStringName']


-------------------------------
-- Map Callbacks
-------------------------------
---cutscenecrumblingcanyon.Init(map)
--Engine callback function
function cutscenecrumblingcanyon.Init(map)

  --This will fill the localized strings table automatically based on the locale the game is 
  -- currently in. You can use the MapStrings table after this line!
  

end

---cutscenecrumblingcanyon.Enter(map)
--Engine callback function
function cutscenecrumblingcanyon.Enter(map)

  canyoncutscene()

end

---cutscenecrumblingcanyon.Exit(map)
--Engine callback function
function cutscenecrumblingcanyon.Exit(map)


end

---cutscenecrumblingcanyon.Update(map)
--Engine callback function
function cutscenecrumblingcanyon.Update(map)


end

---cutscenecrumblingcanyon.GameSave(map)
--Engine callback function
function cutscenecrumblingcanyon.GameSave(map)


end

---cutscenecrumblingcanyon.GameLoad(map)
--Engine callback function
function cutscenecrumblingcanyon.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------

function canyoncutscene()
local player = CH('PLAYER')
local Madilyn = CH('Madilyn')
local Kecleon = CH('Kecleon')

local walkCyclePlayer = false
local walkCycleMadilyn = false
local walkCycleKecleon = false

GAME:CutsceneMode(true)
GAME:MoveCamera(0, -80, 1, true)

local coro1 = TASK:BranchCoroutine(function()

while not walkCyclePlayer do

GROUND:MoveInDirection(player, Direction.Right, 5, false, 1)

end

end)

local coro2 = TASK:BranchCoroutine(function()

while not walkCycleMadilyn do

GROUND:MoveInDirection(Madilyn, Direction.Right, 5, false, 1)

end

end)

local coro3 = TASK:BranchCoroutine(function()

while not walkCycleKecleon do

GROUND:MoveInDirection(Kecleon, Direction.Right, 5, false, 1)

end

end)

SOUND:PlayBGM("None", true)

UI:WaitShowVoiceOver("Several minutes later, on a road to their destination...", -1)

GAME:FadeIn(30)

SOUND:PlayBGM("Heartwarming.ogg", true)

GAME:WaitFrames(150)
UI:SetBounds(10,10,300,45)
UI:SetSpeakerLoc(10,65)

UI:SetSpeaker(Kecleon)
UI:SetSpeakerEmotion("Happy")
UI:WaitShowDialogue("It feels great to get out for a change. [pause=0]The sky is as clear as ever!")
UI:WaitShowDialogue("You adventurers are lucky to do this as your job.")

GAME:WaitFrames(10)
UI:SetSpeaker(Madilyn)
UI:SetSpeakerEmotion("Normal")
UI:WaitShowDialogue("Well don't jinx it now, [pause=10]we might get rain later.")

GAME:WaitFrames(40)
walkCycleMadilyn = true

coro1 = TASK:BranchCoroutine(function()

GAME:WaitFrames(30)
GROUND:EntTurn(Madilyn, Direction.UpRight)

end)

coro2 = TASK:BranchCoroutine(function()

GAME:WaitFrames(20)
walkCyclePlayer = true
SOUND:PlayBattleSE("EVT_Emote_Confused")
GROUND:CharSetEmote(player, "question", 1)
GAME:WaitFrames(40)

GROUND:CharAnimateTurn(player, Direction.UpLeft, 4, true)

end)

coro3 = TASK:BranchCoroutine(function()

GAME:WaitFrames(180)
walkCycleKecleon = true

end)

GAME:WaitFrames(120)
SOUND:PlayBGM("None", true)
UI:WaitShowDialogue("...[pause=30]")

GAME:WaitFrames(20)
GROUND:CharAnimateTurn(Madilyn, Direction.DownRight, 4, false)

GAME:WaitFrames(10)

UI:WaitShowDialogue(GenderCheck(player, "Mister or misses", true) .. " ".. CH('PLAYER'):GetDisplayName() ..", [pause=10]you remind me of myself sometimes.")
UI:WaitShowDialogue("A recruit with no partner, [pause=10]you've always managed to get through danger and get the job done...")
UI:WaitShowDialogue("Makes me think you're someone who's extremely cut out for this line of work.")
UI:WaitShowDialogue("Though, [pause=10]there's one thing that confuses me...")

GROUND:CharAnimateTurn(Madilyn, Direction.UpRight, 4, true)
GAME:WaitFrames(30)
GROUND:CharAnimateTurn(Madilyn, Direction.DownRight, 4, false)
SOUND:PlayBGM("Mysterious World.ogg", true)

UI:WaitShowDialogue("Where in the world did you come from?")

SOUND:PlayBattleSE("EVT_Emote_Confused")
GROUND:CharSetEmote(player, "question", 1)
GAME:WaitFrames(40)

UI:SetSpeaker(player, false)
UI:SetSpeakerEmotion("Worried")
UI:WaitShowDialogue("(Where did I come from?)")
UI:SetSpeakerEmotion("Pain")
GROUND:EntTurn(player, Direction.Up)
UI:WaitShowDialogue("...")
UI:WaitShowDialogue("(Gee, [pause=10]I've been on the road for as long as I can remember.)")
UI:SetSpeakerEmotion("Normal")
UI:WaitShowDialogue("(But I'm absolutely sure I used to live at...)")

GAME:MoveCamera(player.MapLoc.X+8, player.MapLoc.Y-72, 1, false) --Add 8 pixels if you want the camera to stop entirely.
GAME:WaitFrames(10)

LocationPlacer()

GAME:WaitFrames(10)

if SV.playerinfo.continent == 'RescueTeam' or 'Explorers' or 'GatesToInf' or 'Super' or 'Undefined' then
	if SV.playerinfo.town ~= 'LostSoul' then
		UI:ResetSpeaker(false)
		UI:WaitShowDialogue("You written down your answers, [pause=10]and gave them to [color=#54ebaf]Madilyn[color].")
		
		GROUND:MoveInDirection(player, Direction.UpLeft, 10, false, 1)
		
SOUND:PlayBattleSE("EVT_Emote_Confused")
GROUND:CharSetEmote(Madilyn, "question", 1)
		GAME:WaitFrames(40)
		
		UI:SetBounds(10,10,300,45)
		UI:SetSpeakerLoc(10,65)
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Oh, [pause=10]you've written your answer down.")
			UI:WaitShowDialogue("Let's see here...")
			GAME:WaitFrames(10)

elseif SV.playerinfo.town == 'LostSoul' then
		
		GAME:WaitFrames(30)
		SOUND:PlayBGM("None", true)
		UI:SetSpeaker(player, false)
		UI:SetSpeakerEmotion("Worried")
		UI:WaitShowDialogue("(...)")
		UI:WaitShowDialogue("(Why can't I remember where my home is...? [pause=0]Why are the details of it so blurry...?)")
		UI:WaitShowDialogue("(Wait, [pause=10]do I not even have one...?)")
		UI:SetSpeakerEmotion("Sad")
		UI:WaitShowDialogue("(N-no... [pause=20]I must have one...)")
		UI:WaitShowDialogue("(There's no other way that I remember my own name...)")
		
SOUND:PlayBattleSE("EVT_Emote_Shock")
GROUND:CharSetEmote(Madilyn, "shock", 1)
GAME:WaitFrames(40)

	UI:SetSpeaker(Madilyn)
	UI:SetSpeakerEmotion("Surprised")
	UI:WaitShowDialogue("Woah, [pause=10]hey! [pause=0]What in the world happened??")
	UI:WaitShowDialogue("Did I somehow pluck a nerve? [pause=0]Why did you start crying all of a sudden?")
	UI:SetSpeakerEmotion("Normal")
	UI:WaitShowDialogue("Okay okay, [pause=10]look: [pause=10]Just ignore the question.")
	UI:WaitShowDialogue("When you feel more comfortable, [pause=10]you can try telling me later, [pause=10]alright?")			

end
end

if SV.playerinfo.continent == 'RescueTeam' then

				UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("You're pulling my interest if you're from the [color=#FFC663]Origin Region[color]... [pause=20]hm...")
				GAME:WaitFrames(10)

	if SV.playerinfo.town == 'PokemonSquare' then
	
		if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("...[pause=20]Oh wow, [pause=10]you're from [color=#FFC663]Pokémon Square[color] alright.")
			UI:WaitShowDialogue("It's right about where the two Legendary Heroes lived at.")
			UI:WaitShowDialogue("Not only that, [pause=10]you've taken your classes, [pause=10]and such.")
			UI:WaitShowDialogue("No wonder why you're picking things up easily.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Living in [color=#FFC663]Pokémon Square[color], [pause=10]and having that many dungeons to explore around. [br]No wonder why you're effective in dungeons.")
			UI:WaitShowDialogue("You came from a place that has made our guild work even possible to begin with.")
			UI:WaitShowDialogue("There is no doubt that you've put in the effort to become an explorer, [pause=10]alright.")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Wait, [pause=10]am I reading this right? [pause=0]You're a... [pause=20]mail-mon?")
			UI:WaitShowDialogue("So you used to deliver the news across [color=#FFC663]Pokémon Square[color]?")
			UI:WaitShowDialogue("Oh! [pause=0]Please tell me you used to deliver stuff to the two Legendary Heroes there!")
			UI:WaitShowDialogue("No?? [pause=0]*Sigh*... [pause=20]Those two are so elusive... [pause=20]Where in the world could they be?")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Look at that, [pause=10]a goodie-two shoes.")
			UI:WaitShowDialogue("I'm not entirely sure what to say about a community helper.")
			UI:WaitShowDialogue("Though that does mean something: [pause=10]You have a big heart.")
			UI:WaitShowDialogue("That quality is special when you're doing dungeon work, [pause=10]y'know.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Living the good life over at the [color=#FFC663]Pokémon Square[color], [pause=10]huh?")
			UI:WaitShowDialogue("Can't say I blame you.[br]If I had the two Legendary Heroes defending my town, [pause=10]I would enjoy life too.")
			UI:WaitShowDialogue("I guess our recruitment came at a whim, [pause=10]didn't it? [pause=0]Or maybe you wanted to shake things up...")
			UI:WaitShowDialogue("Who knows.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end

	elseif SV.playerinfo.town == 'FriendZone' then
	
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("What in the world...?")
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("I'm so confused, [pause=10]you were in the Legendary Heroes' team at one point...")
			UI:WaitShowDialogue("What's the reason why you would quit?")
			UI:WaitShowDialogue("...[pause=20][br]I guess I won't get my answer anytime soon...")

	elseif SV.playerinfo.town == 'Unsure' then
	
	if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I guess [color=#FFC663]Pokémon Square[color] isn't the only town over there.")
			UI:WaitShowDialogue("At least you're educated enough to know what you're doing, [pause=10]and where you're going.")
			UI:WaitShowDialogue("Maybe [color=#54ebaf]Adam[color] and [color=#54ebaf]Piks[color] didn't search the region hard enough, [pause=10]then.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I'm surprised to find someone outside of [color=#FFC663]Pokémon Square[color] that knows what they're doing.")
			UI:WaitShowDialogue("Then again, [pause=10]I shouldn't be surprised that any great adventurer can come from anywhere.")
			UI:WaitShowDialogue("I just hope you know more than you let on...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Oh, [pause=10]a mail-mon. [pause=0]Lovely.")
			UI:WaitShowDialogue("I would normally dismiss the notion, [pause=10]but the [color=#FFC663]Origin Region[color] is full of potential...")
			UI:WaitShowDialogue("I have to guess your fair share of mail delivery goes into dungeons, [pause=10]or something.")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("A helper, [pause=10]huh? [pause=0]I hope your old neighbors know you're doing pretty good.")
			UI:WaitShowDialogue("After all, [pause=10]your determination to help goes a long way in a job like this.")
			UI:WaitShowDialogue("Though I do wonder your reasoning for leaving your old home...")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Life certainly is interesting to live through, [pause=10]huh?")
			UI:WaitShowDialogue("Pretty trees, [pause=10]good food, [pause=10]an active Rescue Team...")
			UI:WaitShowDialogue("Makes me wonder if you left any old friends behind...")
			UI:WaitShowDialogue("But you'll cross paths with them again, [pause=10]I'm sure of it.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
	
else

end

elseif SV.playerinfo.continent == 'Explorers' then

				UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("'[color=#FFC663]Sky Region[color] resident'. [pause=0]Good to know you're locally sourced here. [pause=0]Uhm...")
				GAME:WaitFrames(10)

	if SV.playerinfo.town == 'TreasureTown' then
	
			if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("...That sounds rather fishy, [pause=10]but I'll let it slide... [pause=20]for now.")
			UI:WaitShowDialogue("There must be a lot more to [color=#FFC663]Treasure Town[color] than I thought.")
			UI:WaitShowDialogue("Apparently, [pause=10]a whole school too.")
			UI:WaitShowDialogue("Must be a good school, [pause=10]considering your quick growth.")
			
			elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Uh huh... [pause=20]You must be away for long periods of time, [pause=10]or something.")
			UI:WaitShowDialogue("There ain't no way I haven't seen you before.")
			UI:WaitShowDialogue("...Then again, [pause=10]maybe you moved away before I joined. [pause=0]Who knows...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("There ain't no way you're a mail-mon.")
			UI:WaitShowDialogue("I am up early, [pause=10]I would've seen you deliver stuff by the time I reach the guild.")
			UI:WaitShowDialogue("...Oh, [pause=10]duh. [pause=0]There's the mid-day shift, [pause=10]or something.")
			UI:WaitShowDialogue("Nevermind my accusations, [pause=10]then.")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Now this just straight up confuses me.")
			UI:WaitShowDialogue("You're a helper, [pause=10]but you didn't go join the guild?")
			UI:WaitShowDialogue("The [color=#FFC663]Sky Region[color]'s best training place could've used another apprentice.")
			UI:WaitShowDialogue("Or maybe you needed a partner, [pause=10]and couldn't find one...")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Er- [pause=10]eh... [pause=20]*Sigh*, [pause=10]okay, [pause=10]fair enough.")
			UI:WaitShowDialogue("I can't exactly blame you for just being you.")
			UI:WaitShowDialogue("You got a lot of choices for sightseeing, [pause=10]and whatnot.")
			UI:SetSpeaker(Madilyn, false)
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("(If only I had *that* much vacation time...)")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
			end
			
		elseif SV.playerinfo.town == 'AdventureSquad' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Oh no way, [pause=10]you actually managed to work with the Adventure Squads?")
			UI:WaitShowDialogue("That's an achievement if I've ever saw one.")
			UI:WaitShowDialogue("They have a lot of tricks up their sleeve, [pause=10]but I don't think they see real danger often.")
			UI:WaitShowDialogue("Believe it or not, [pause=10]I did work with them, [pause=10]but only for a short time.")
			UI:WaitShowDialogue("I was only traveling around, [pause=10]not really staying.")

	elseif SV.playerinfo.town == 'ShayminVillage' then
	
		if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("That is either incredible luck, [pause=10]or some massive coincidence.")
			UI:WaitShowDialogue("I have never heard of someone who lived there long enough to call it their home.")
			UI:WaitShowDialogue("While we're on the topic of [color=#FFC663]Shaymin Village[color], [pause=10]have you seen the summit?")
			UI:WaitShowDialogue("...No? [pause=0]Shame, [pause=10]we gotta take you up there, [pause=10]then. [pause=0]Your studies will be worth it.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I'll be fair: [pause=10]There are dungeons near that village.")
			UI:WaitShowDialogue("Using them to train and prepare for expeditions makes the most sense...")
			UI:WaitShowDialogue("Although you saying it like it's somewhere you used to live makes me suspicious of you...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Arguably, [pause=10]there is very little distance between various tents at the base of the mountain...")
			UI:WaitShowDialogue("How you became a mail-mon, [pause=10]I won't ever know.")
			UI:WaitShowDialogue("Let me guess, [pause=10]you delivered mail to the fabled [color=#00FFFF]Shaymin[color], [pause=10]did you?")
			UI:WaitShowDialogue("No? [pause=0]You didn't even know they existed? [pause=0]That's... [pause=20]hm...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("You... [pause=20]helped around [color=#FFC663]Shaymin Village[color].")
			UI:WaitShowDialogue("I don't want to act negative, [pause=10]but with what, [pause=10]exactly? [pause=0]Climbing up the mountain?")
			UI:WaitShowDialogue("...Wait, [pause=10]you're serious? [pause=0]Not through the dungeon, [pause=10]or anything?")
			UI:WaitShowDialogue("Uh...")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("You're serious?")
			UI:WaitShowDialogue("I get it, [pause=10]food must taste real nice, [pause=10]and the summit looks great...")
			UI:WaitShowDialogue("But it seems way too good for me to think you were born there.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
	
	elseif SV.playerinfo.town == 'Unsure' then
	
		if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("A scholar from the vast [color=#FFC663]Sky Region[color]...")
			UI:WaitShowDialogue("I just wish you knew which one, [pause=10]because there are still towns that aren't discovered.")
			UI:WaitShowDialogue("Mapping them all out would be a big help for everyone.")
			UI:WaitShowDialogue("Don't blame you, [pause=10]though. [pause=0]Geography is a rather dumb subject to study.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Ah, [pause=10]looks like that preparation paid off big time for you.")
			UI:WaitShowDialogue("There's a few simple dungeons around here to explore, [pause=10]and learn about, [pause=10]for sure.")
			UI:WaitShowDialogue("Though, [pause=10]I hope none of that training was for naught with these stupid rules...")
			UI:WaitShowDialogue("The world changing how the dungeon's worked isn't very natural...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Hm. [pause=0]The fact we don't really have a big mail service in [color=#FFC663]Treasure Town[color] confuses me.")
			UI:WaitShowDialogue("We got Project P for that, [pause=10]sure. [pause=0]But if we had someone like you, [pause=10]no dungeon would've been left unchecked.")
			UI:WaitShowDialogue("You should already know why: [pause=10]SOS Mail. [pause=0]That stuff gets delivered by mail-mon.")
			UI:WaitShowDialogue("How else did you think missions get on the Mission Board?")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Wonderful, [pause=10]you stayed home and took care of everyone.")
			UI:WaitShowDialogue("If I could have a single guess, [pause=10]you're most likely the bravest one.")
			UI:WaitShowDialogue("Y'know, [pause=10]taking care of the bad guys, [pause=10]and stuff.")
			UI:WaitShowDialogue("This region has a lot of them, [pause=10]still.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Just enjoying life, [pause=10]huh? I guess whatever got you here wasn't on your plans.")
			UI:WaitShowDialogue("I'm glad your diversion wasn't a big waste of time.")
			UI:WaitShowDialogue("We need more natural leaders to solve this massive crisis.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end

end

elseif SV.playerinfo.continent == 'GatesToInf' then

				UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("From the barren wastes of the [color=#FFC663]Magna Region[color]- Er, [pause=10]ok... [pause=20]what have you been doing there...?")
				GAME:WaitFrames(10)

	if SV.playerinfo.town == 'PostTown' then
		
		if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("W-wait, [pause=10]where does this say you're from...?")
			UI:WaitShowDialogue("[color=#FFC663]Post Town[color]? [pause=0]Huh... [pause=20]Never in a million years would I have thought you were from there.")
			UI:WaitShowDialogue("Don't get me wrong, [pause=10]most people who studied for school were mostly in regions with purpose...")
			UI:WaitShowDialogue("But... [pause=20]isn't the [color=#FFC663]Magna Region[color] pretty... [pause=20]I dunno, [pause=10]empty?")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("A [color=#FFC663]Post Town[color] resident that prepared for dungeon work...")
			UI:WaitShowDialogue("I don't want to sound that mean, [pause=10]but really?")
			UI:WaitShowDialogue("From what I've heard, [pause=10][color=#FFC663]Post Town[color] is a place you'd stop by...")
			UI:WaitShowDialogue("It doesn't sound much like a place to live...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Being a mail-mon must be very boring at [color=#FFC663]Post Town[color].")
			UI:WaitShowDialogue("You don't have that much residents there to deliver for.")
			UI:WaitShowDialogue("I could also be wrong, [pause=10]and you do region-wide mail service instead.")
			UI:WaitShowDialogue("...Does it at least pay well...?")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Let's imagine a scenario where everyone needs help, [pause=10]right?")
			UI:WaitShowDialogue("They have one reliable Pokémon to turn to: [pause=10]You.")
			UI:WaitShowDialogue("You easily save the day and everyone commends you.")
			UI:WaitShowDialogue("I say imagine, [pause=10]because I can't fathom taking care of an inn full of traveling Pokémon alone.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("With how empty the [color=#FFC663]Magna Region[color] is, [pause=10]I would've guessed nothing else.")
			UI:WaitShowDialogue("But that must be very boring... [pause=20]to sit there, [pause=10]and do nothing until the day is over.")
			UI:WaitShowDialogue("How did you even manage...?")	
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
		elseif SV.playerinfo.town == 'Unsure' then
		
			if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Uh huh... [pause=20]Someone who spent a lot of time studying and hasn't a clue where they lived...")
			UI:WaitShowDialogue("Says something about the entirety of the [color=#FFC663]Magna Region[color]...")
			UI:WaitShowDialogue("It is rather large, [pause=10]and empty... [pause=20]Towns could be spaced apart for all I know.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Mm, [pause=10]that skill could come in handy...")
			UI:WaitShowDialogue("I heard there's hostile Pokémon that roam around the areas where the dungeons are.")
			UI:WaitShowDialogue("It's hard to explain, [pause=10]but you must know what I'm talking about, [pause=10]right?")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Oh geez, [pause=10]a mail-mon? [pause=0]From the [color=#FFC663]Magna Region[color]?")
			UI:WaitShowDialogue("How have you not fallen over from the sheer distances between towns over there?")
			UI:WaitShowDialogue("I know there's rivers from time to time, [pause=10]but that cannot be enjoyable...")
			UI:WaitShowDialogue("Dungeon exploration is much more worth it than being a courier there...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Uh, [pause=10]I don't really have a comment.")
			UI:WaitShowDialogue("If you're not from [color=#FFC663]Post Town[color], [pause=10]I would have to assume hands are hard to come by nowadays.")
			UI:WaitShowDialogue("More Pokémon should move to the [color=#FFC663]Magna Region[color] so visiting it would be more worth it.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Well, [pause=10]at least someone enjoyed the vast emptiness of the [color=#FFC663]Magna Region[color].")
			UI:WaitShowDialogue("There are certainly some Pokémon that want to be alone, [pause=10]if we're not talking about criminals.")
			UI:WaitShowDialogue("...Oh, [pause=10]there must be some poor [color=#00FFFF]Magnazone[color] having to stay there and catch them.")
			UI:WaitShowDialogue("Imagine having to send the bare minimum for criminals because it was so empty.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
	end
	
	elseif SV.playerinfo.continent == 'Super' then
	
				UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("The [color=#FFC663]Region of Prospect[color]... [pause=20]Okay, [pause=10]uh...")
				GAME:WaitFrames(10)
	
			if SV.playerinfo.town == 'SereneVillage' then
			
				if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("No heckin' way, [pause=10]you used to be schooled at [color=#FFC663]Serene Village[color]?")
			UI:WaitShowDialogue("Oh, [pause=10]how I sometimes miss being there...")
			UI:WaitShowDialogue("Except for [color=#00FFFF]Pancham[color]... [pause=20]I just wish I didn't have amnesia back then.")
			UI:WaitShowDialogue("I should've been to show off my explorer's badge, [pause=10]and told him to go away.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Ah hah. [pause=0]You're one of those explorers, [pause=10]huh?")
			UI:WaitShowDialogue("Sometimes the 'serene' life isn't very exciting enough.")
			UI:WaitShowDialogue("With the abundance of dungeons litering around the place, [pause=10]I imagine it's great for an after-school activity or something.")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("A mail-mon from [color=#FFC663]Serene Village[color]... [pause=20]What a boring answer.")
			UI:WaitShowDialogue("Well, [pause=10]it could be more interesting... [pause=20]did you only deliver around [color=#FFC663]Serene Village[color]?")
			UI:WaitShowDialogue("Oh, [pause=10]to other nearby towns? [pause=0]That makes a lot more sense.")
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("...Wuh...? [pause=0]All of a sudden, [pause=10]I'm hit with deja vu...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("A [color=#FFC663]Serene Village[color] caretaker... [pause=20]doesn't sound promising.")
			UI:WaitShowDialogue("Sorry, [pause=10]but at one point in time, [pause=10]I was backsta- er, [pause=10]betrayed, [pause=10]by someone there.")
			UI:SetSpeakerEmotion("Determined")
			UI:WaitShowDialogue("Thinking about it makes me want to...")
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("*Sigh*...")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Living in [color=#FFC663]Serene Village[color] ain't so bad, [pause=10]right?")
			UI:WaitShowDialogue("It's wonderful, [pause=10]especially that big tree on the hill.")
			UI:WaitShowDialogue("Being up there really does show the hope of the world.")
			UI:WaitShowDialogue("Thinking about it now just reminds me of [color=#54ebaf]Luna[color] though...")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
	elseif SV.playerinfo.town == 'LivelyTown' then
	
			if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Happy")
			UI:WaitShowDialogue("Ho ho ho! [pause=0]We got ourselves a Class-A student!")
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("You got yourself set for life. [pause=0]From what I've heard, [pause=10]all the best inventors came from [color=#FFC663]Lively Town[color].")
			UI:WaitShowDialogue("Considering your job for the time being, [pause=10]however...")
			UI:WaitShowDialogue("I assume you just wanted to get done with school or something.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Preparation is key, [pause=10]they say. [pause=0]Especially in this line of work.")
			UI:WaitShowDialogue("Being prepared from [color=#FFC663]Lively Town[color] is a whole other thing.")
			UI:WaitShowDialogue("You are completely qualified to be in the Expedition Society.")
			UI:WaitShowDialogue("Or maybe you wanted a more... [pause=20]rustic kind of exploration life, [pause=10]huh?")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("[color=#FFC663]Lively Town[color] always needed extra hands to deliver mail.")
			UI:WaitShowDialogue("With how many Pokémon live there, [pause=10]you probably worked your tail off.")
			UI:WaitShowDialogue("Judging by you being here, [pause=10]you probably needed a career change.")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Okay, [pause=10]uh, [pause=10]I get a small town, [pause=10]but [color=#FFC663]Lively Town[color] is not small...")
			UI:WaitShowDialogue("You most likely took part in defending the law, [pause=10]or helped businesses...")
			UI:WaitShowDialogue("Just thinking about what you helped with confuses me...")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Eh... [pause=20]well, [pause=10]now I know someone who enjoyed being around others.")
			UI:WaitShowDialogue("It's a big, [pause=10]bustling town. [pause=0]The amount of Pokémon there couldn't have been comfortable.")
			UI:WaitShowDialogue("Though, [pause=10]they did call it the [color=#FFC663]Region of Prospect[color] after all...")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
	elseif SV.playerinfo.town == 'Unsure' then
	
		if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Interesting. [pause=0]Even if you have no exact idea where you live, [pause=10]you have gotten a form of education.")
			UI:WaitShowDialogue("Doesn't matter what kind, [pause=10]the [color=#FFC663]Prospect Region[color] is home to many great inventors.")
			UI:WaitShowDialogue("Though, [pause=10]you must be educated in a different topic...")
			UI:WaitShowDialogue("Long as it wasn't a waste of time, [pause=10]I'm fine with it.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("With the large amount of Emeras that invade the [color=#FFC663]Prospect Region[color], [pause=10]this was probably crucial to learn.")
			UI:WaitShowDialogue("Yeah, [pause=10]there's some very useful ones... [pause=20]but there's also the very boring, [pause=10]or useless ones.")
			UI:WaitShowDialogue("They're not so common over here, [pause=10]so you shouldn't need to worry about 'em.")
			UI:WaitShowDialogue("...Or at least, [pause=10]for now...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Being a courier must've been profitable to heck...")
			UI:WaitShowDialogue("The lots of mail to go around, [pause=10]sort, [pause=10]deliver, [pause=10]all that nonsense.")
			UI:WaitShowDialogue("I do hate to know... [pause=20]were you delivering rocks at all?")
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("Coal?? [pause=0]You're kidding... [pause=20]I know it's the [color=#FFC663]Prospect Region[color], [pause=10]but come on...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Oh, [pause=10]that sounds unlucky, [pause=10]I guess.")
			UI:WaitShowDialogue("Usually, [pause=10]when it's a small village, [pause=10]I have no quarrel.")
			UI:WaitShowDialogue("But it sounds like a story from a book, [pause=10]like 'small girl goes to the big city' kinda deal.")
			UI:WaitShowDialogue("...Why are you tilting your head like that?")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Really...? [pause=0]Just kinda enjoyed the life to life moments, [pause=10]huh?")
			UI:WaitShowDialogue("Might just be me, [pause=10]but the [color=#FFC663]Prospect Region[color] doesn't sound like a vacation zone.")
			UI:WaitShowDialogue("Then again, [pause=10]I prefer to be alone all the time.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
	
	end
	
	elseif SV.playerinfo.continent == 'Undefined' then
	
			if SV.playerinfo.town == 'BaseCamp' then
			
				UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("[color=#FFC663]The Grandmaster's Trail Island[color]? [pause=0]Oh, [pause=10]this sounds promising.")
				GAME:WaitFrames(10)
			
				if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Wait, [pause=10][color=#FFC663]Base Camp[color] had a school?")
			UI:WaitShowDialogue("Oh, [pause=10]yeah, [pause=10]time for some context.")
			UI:WaitShowDialogue("I've heard about this particular bit of island before.[br]It was in an issue of 'top 10 places to visit' on a newspaper.")
			UI:WaitShowDialogue("I should check it out sometime. [pause=0]It's worth a visit or two.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I can't really be surprised you did that over at the [color=#FFC663]Base Camp[color] island.")
			UI:WaitShowDialogue("[color=#FFC663]Guildmaster Trail[color] makes for a great ordeal to overpass.")
			UI:WaitShowDialogue("Considering you're here, [pause=10]I'm guessing being a Guildmaster wasn't on your list.")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Now that is something that doesn't need to be explained.")
			UI:WaitShowDialogue("The long treks through to reach the other camps must be exhausting.")
			UI:WaitShowDialogue("But uh, [pause=10]wasn't there already a mail service at [color=#FFC663]Base Camp[color]?")
			UI:WaitShowDialogue("Oh, [pause=10]they were understaffed. [pause=0]Huh...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("The amount of shops there must be so confusing...")
			UI:WaitShowDialogue("It's one thing to help them all out...")
			UI:WaitShowDialogue("But the influx of tourists must make it a very busy day, [pause=10]doesn't it?")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Living on an island has it's perks...")
			UI:WaitShowDialogue("There are much more exotic fruits and stuff, [pause=10]and free excersize through [color=#FFC663]Guildmaster Trail[color] is fine...")
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("But it's in the south, [pause=10]so it gets humid really dang quickly...")
			UI:WaitShowDialogue("How do you stand it?")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
		elseif SV.playerinfo.town == 'MetanoTown' then
		
		UI:SetSpeaker(Madilyn)
		UI:SetSpeakerEmotion("Normal")
		UI:WaitShowDialogue("[color=#FFC663]Metano Town[color]... [pause=20]Alright, [pause=10]let's see what you've written down...")
		GAME:WaitFrames(10)
		
			if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Huh, [pause=10]that's rather crazy to think about...")
			UI:WaitShowDialogue("You were schooled there, [pause=10]and last I checked, [pause=10]that town had a guild in it.")
			UI:WaitShowDialogue("Please tell me you took a field trip to the big tree?")
			UI:WaitShowDialogue("It'll be our secret, [pause=10]I promise.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Dungeon preparation, [pause=10]I shouldn't be surprised.")
			UI:WaitShowDialogue("Oh wait... [pause=20]There's a dungeon next to the town? [pause=0]Wh- [pause=10]Two of them??")
			UI:WaitShowDialogue("I thought [color=#FFC663]Beach Cave[color] was close enough, [pause=10]but two seems like too much.")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Mm... [pause=20]Being a mail-mon around [color=#FFC663]Metano Town[color] feels like you are always going to see that big tree every day when you deliver mail.")
			UI:WaitShowDialogue("Now that I think about it, [pause=10]what is even in that tree to begin with?")
			UI:WaitShowDialogue("...Oh, [pause=10]it's just the entire guild...")
			UI:WaitShowDialogue("That must take an absurd amount of skill and effort to pull that off.")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Helping around town, [pause=10]nobility indeed...")
			UI:WaitShowDialogue("Oh, [pause=10]I don't know. [pause=0]Someone has to be a grown-up and take care of things from time to time.")
			UI:WaitShowDialogue("I did find [color=#FFC663]Metano Town[color] on one of the places listed in a newspaper once.")
			UI:WaitShowDialogue("It's called 'top 10 places to visit'. [pause=0]I don't know the issue, [pause=10]you're gonna have to dig that one for yourself.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I guess you were just enjoying your slice of halcyon, [pause=10]weren't you?")
			UI:WaitShowDialogue("W-well, [pause=10]you know what halcyon means, [pause=10]right? No?")
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("You're kidding... [pause=20]it means 'a moment of happiness', [pause=10]or something...")
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("It's not a commonly used word so just use whatever makes more sense, [pause=10]ok?")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
		elseif SV.playerinfo.town == 'BaramTown' then
		
						UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("I didn't expect to see that you're from [color=#FFC663]Baram Town[color]. [pause=0]What's written here...?")
				GAME:WaitFrames(10)
		
					if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("The Pokémon around there are typically very productive with their time.")
			UI:WaitShowDialogue("And I see that you are no different with your school work, [pause=10]but I do have to ask...")
			UI:WaitShowDialogue("Did you spend nearly every day indoors because of how windy the ocean-front makes it?")
			UI:WaitShowDialogue("Oh, [pause=10]I forgot the town was on top of a massive stone wall. [pause=0]Hm...")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("You must've been running around in easier dungeons...")
			UI:WaitShowDialogue("For the life of me, [pause=10]I can never seem to find any around there.")
			UI:WaitShowDialogue("The ones I found are never ever the same strength like [color=#FFC663]Drenched Bluff[color], [pause=10]or [color=#FFC663]Beach Cave[color]...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("How do you manage to deliver mail on windy days?")
			UI:WaitShowDialogue("I know, [pause=10][color=#FFC663]Baram Town[color] often gets windy...")
			UI:WaitShowDialogue("But I start getting concerned when large storms happen over there.")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("*Sigh*... [pause=20]I would like it if you kept your stories about chasing fruit down a hill to yourself.")
			UI:WaitShowDialogue("I shouldn't make fun of your homeland, [pause=10]but the wind there is just... [pause=20]mean.")
			UI:WaitShowDialogue("It's just not my place.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I suppose it would be fine to live there for a while...")
			UI:WaitShowDialogue("Get a nice breeze on a summer day is always nice.")
			UI:WaitShowDialogue("But the snowstorms must've been awful in the winter time.")
			UI:WaitShowDialogue("How do you manage that kind of life?")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end

		elseif SV.playerinfo.town == 'CapimTown' then
		
						UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("The green, [pause=10]jungle-like port known as [color=#FFC663]Capim Town[color]. [pause=0]Let's see here...")
				GAME:WaitFrames(10)
		
					if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("There's a school over in that oversized jungle-gym?")
			UI:WaitShowDialogue("Oops, [pause=10]em... [pause=20]pardon. [pause=0]It just doesn't seem like a place for a school.")
			UI:WaitShowDialogue("I can't begin to wonder what in the world you studied for...")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Wanting to become an explorer makes a lot of sense around [color=#FFC663]Capim Town[color].")
			UI:WaitShowDialogue("Just think about it: You might uncover an ancient ruin, [pause=10]with a super valuable treasure.")
			UI:WaitShowDialogue("Y'know, [pause=10]like a story in a book... [pause=20]yeah.")
			UI:SetSpeaker(Madilyn, false)
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("(What in the world am I talking about...?)")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Now that sounds like a fun job to have there.")
			UI:WaitShowDialogue("With the dense foilage and everything, [pause=10]you're probably swinging on vines.")
			UI:WaitShowDialogue("Unless [color=#FFC663]Capim Town[color] does actually manage to trim the place down.")
			UI:WaitShowDialogue("Not sure...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Does one of your qualifications have 'Grass trimmer' in it?")
			UI:WaitShowDialogue("No reason, [pause=10]so stop tilting your head.")
			UI:WaitShowDialogue("The only reason I say that is just how overgrown [color=#FFC663]Capim Town[color] is.")
			UI:WaitShowDialogue("I swear, [pause=10]the plants are not trimmed any shorter when I'm over there.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Not much, [pause=10]huh? [pause=0]Just lived there as best as you can?")
			UI:WaitShowDialogue("I'm just glad nobody built the houses on the giant logs there.")
			UI:WaitShowDialogue("At the same time, [pause=10]pollen season becomes unbearable... [pause=20]So it's like [color=#32a852]Double-Edge[color]. [pause=0]I think.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
		elseif SV.playerinfo.town == 'NoeTown' then
		
						UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("Oh 'Noe'... [pause=20]what? [pause=0]Too on the nose? [pause=0]Alright fine, [pause=10]I'll read your notebook... [pause=20]hm...")
				GAME:WaitFrames(10)
		
					if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("I'd like to imagine that [color=#FFC663]Noe Town[color]'s school is somewhat sophisticated...")
			UI:WaitShowDialogue("But I also like to imagine it that it's boring, [pause=10]but everyone has to deal with it anyways.")
			UI:WaitShowDialogue("Imagine my confusion as I check that your teacher is a ghost type, [pause=10]but I beg to differ if they're scary.")
			UI:WaitShowDialogue("Grass Types are much more scarier, [pause=10]because they hurt real bad, [pause=10]and I have no idea why.")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("You learned dungeons in a town that has a few Ghost Types around?")
			UI:WaitShowDialogue("I'd raise some alarm, [pause=10]what if you went away and you were robbed while you were gone?")
			UI:WaitShowDialogue("I couldn't continue my work with that kind of scary thought...")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("A mail-mon in a mist-ridden town. [pause=0]How would you know where you're going?")
			UI:WaitShowDialogue("I've been there a few times, [pause=10]it's a crazy maze with it's turns and stuff...")
			UI:WaitShowDialogue("Maybe that's why there's entire maps in your passport when you travel there...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("With the boredom the town seemingly suffers from, [pause=10]making someone's day is nice.")
			UI:WaitShowDialogue("The clouds have one weakness there: [pause=10]You.")
			UI:WaitShowDialogue("I would absolutely pay someone like you just to know where my job is.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("It's a very chill town, [pause=10]yeah...")
			UI:WaitShowDialogue("Maybe a little too chilly...")
			UI:WaitShowDialogue("I hate being cold...")
			UI:WaitShowDialogue("Think it's weird? [pause=0]I don't care, [pause=10]being cold sucks.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
		elseif SV.playerinfo.town == 'RamleTown' then
		
				UI:SetSpeaker(Madilyn)
				UI:SetSpeakerEmotion("Normal")
				UI:WaitShowDialogue("[color=#FFC663]Ramle To-[color] Okay, [pause=10]now I gotta know what you did...")
				GAME:WaitFrames(10)
		
					if SV.playerinfo.job == 'Study' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("You studied in a hot, [pause=10]barren, [pause=10]coastal desert down?")
			UI:WaitShowDialogue("That... [pause=20]must be the most uncomfortable thing I've ever heard of...")
			UI:WaitShowDialogue("W-[pause=10]what about sandstorms? [pause=0]That stuff completely ruins your books, [pause=10]papers, [pause=10]and the roads...")
			UI:WaitShowDialogue("It's like snow, [pause=10]but less enjoyable... [pause=20]it's rough, [pause=10]coarse, [pause=10]and it's everywhere because there's no windows...")
			
		elseif SV.playerinfo.job == 'Prepared' then
		
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Well, [pause=10]I dunno about you, [pause=10]but preparing to explore dungeons in a desert...")
			UI:WaitShowDialogue("That's either really brave, [pause=10]or really dumb.")
			UI:WaitShowDialogue("If you ain't careful, [pause=10]you'll get knocked out from the lack of water.")
			UI:WaitShowDialogue("And no, [pause=10]ocean water isn't drinkable, [pause=10]so that was very risky of you...")
			UI:WaitShowDialogue("Don't do anything like that when we are around.")
			
			elseif SV.playerinfo.job == 'Courier' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Pain")
			UI:WaitShowDialogue("Wh-[pause=10]Why?? [pause=0]Why would you subject yourself to that kind of misery?")
			UI:WaitShowDialogue("I get it, [pause=10]stuff needs to be done... [pause=20]but think about the amount of sand over there...")
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("Surely there were better things to do than be a mail-mon with sand in their eyes...")
			
			elseif SV.playerinfo.job == 'Helper' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("The more hands, [pause=10]er, [pause=10]paws, [pause=10]the better. [pause=0]Nobody wants to be alone in a desert.")
			UI:WaitShowDialogue("I'm glad you got things done with others, [pause=10]because those are awful conditions.")
			UI:WaitShowDialogue("I kinda feel bad for them not having you around.")
			
			elseif SV.playerinfo.job == 'Vibed' then
			
			UI:SetSpeaker(Madilyn)
			UI:SetSpeakerEmotion("Normal")
			UI:WaitShowDialogue("That's... [pause=20]unexpected...")
			UI:WaitShowDialogue("I can't personally say it's been pleasant being there...")
			UI:WaitShowDialogue("But maybe we're all just made for different environments, [pause=10]who knows.")
			
			else
			
			UI:ResetSpeaker(false)
			UI:WaitShowDialogue("First off, [pause=10]you're a massive cheater and this is unacceptable.")
			UI:WaitShowDialogue("Second off, [pause=10]power the game off and try the cutscene again.")
		
		end
		
		elseif SV.playerinfo.town == 'Nomad' then
		
		UI:SetSpeaker(Madilyn)
		UI:SetSpeakerEmotion("Pain")
		UI:WaitShowDialogue("Whuh...?")
		UI:WaitShowDialogue("So, [pause=10]lemme get this straight...")
		UI:SetSpeakerEmotion("Normal")
		UI:WaitShowDialogue("You're a traveler, [pause=10]you kinda just go around places with no home...")
		UI:WaitShowDialogue("That's certainly a lifestyle... [pause=20]not sure which one though.")
		UI:WaitShowDialogue("As long as you know something about the places you visit, [pause=10]I don't really see anything wrong.")
		
		end
		
		

end

UI:SetSpeaker(Madilyn)
UI:SetSpeakerEmotion("Normal")

if SV.playerinfo.continent == 'RescueTeam' or 'Explorers' or 'GatesToInf' or 'Super' or 'Undefined' then
	if SV.playerinfo.town ~= 'LostSoul' then

GROUND:AnimateInDirection(player, "Walk", Direction.UpLeft, Direction.DownRight, 10, 1, 1)
GAME:MoveCamera(0, -80, 1, true)
GAME:WaitFrames(10)
SOUND:PlayBGM("None", true)
UI:WaitShowDialogue("Anyways...")

	else
	end
end

walkCyclePlayer = false
walkCycleMadilyn = false
walkCycleKecleon = false

UI:WaitShowDialogue("We should catch up to [color=#00FFFF]Kecleon[color], [pause=10]he's making some distance away from us.")

local coro1 = TASK:BranchCoroutine(function()

GAME:WaitFrames(10)
GROUND:CharAnimateTurn(player, Direction.Right, 4, false)

while not walkCyclePlayer do

GROUND:MoveInDirection(player, Direction.Right, 5, false, 1)

end

end)

local coro2 = TASK:BranchCoroutine(function()

GROUND:EntTurn(Madilyn, Direction.Right)
GAME:WaitFrames(5)

while not walkCycleMadilyn do

GROUND:MoveInDirection(Madilyn, Direction.Right, 5, false, 1)

end

end)

local coro3 = TASK:BranchCoroutine(function()

while not walkCycleKecleon do

GROUND:MoveInDirection(Kecleon, Direction.Right, 5, false, 1)

end

end)

GAME:WaitFrames(60)

UI:SetSpeaker(Madilyn)
UI:SetSpeakerEmotion("Normal")
UI:WaitShowDialogue("The reason I asked was to simply pass the time.")
UI:WaitShowDialogue("Maybe get more of a reason why you'd want to join this team...")

					if SV.playerinfo.job == 'Study' then
			UI:WaitShowDialogue("Maybe to learn the world and how it works, [pause=10]I guess.")
					elseif SV.playerinfo.job == 'Prepared' then
			UI:WaitShowDialogue("I think I found that out pretty easily, [pause=10]didn't I?")	
					elseif SV.playerinfo.job == 'Courier' then
			UI:WaitShowDialogue("Besides a career change, [pause=10]obviously.")
					elseif SV.playerinfo.job == 'Helper' then
			UI:WaitShowDialogue("Could be to help other Pokémon who are in worse conditions.")
					elseif SV.playerinfo.job == 'Vibed' then
			UI:WaitShowDialogue("But I can't figure it out with you.")
			else --nil statements trigger here
			
			UI:WaitShowDialogue("...But your actual reason might not match what I think.")
		
		end
		
		GAME:WaitFrames(60)
		
UI:WaitShowDialogue("Guess it's my turn to share with you now...")

GAME:FadeOut(false, 20)

UI:ResetBounds()
UI:ResetSpeakerLoc()

UI:WaitShowBG("Sky", 1, 20);
SOUND:PlayBGM("Time Gear Remix.ogg", true);
GAME:WaitFrames(20)

UI:WaitShowDialogue("My home is... [pause=20]very far away.")
UI:WaitShowDialogue("I don't think I'll ever see it again anytime soon.")
UI:WaitShowDialogue("I guess I'm looking for an answer to a question that doesn't exist.")
UI:WaitShowDialogue("Only because the answer just... [pause=20]doesn't exist either, [pause=10]I suppose.")

GAME:WaitFrames(20);
UI:WaitHideBG(20);

GAME:FadeIn(20)
GAME:WaitFrames(60)

UI:SetBounds(10,10,300,45)
UI:SetSpeakerLoc(10,65)

UI:SetSpeakerEmotion("Normal")
UI:WaitShowDialogue("Whatever is happening to this world...")
UI:WaitShowDialogue("There's no way it can be caused by any mortal Pokémon...")
UI:WaitShowDialogue("It reminds me of the tales that are often associated with Legendary Heroes.")
UI:WaitShowDialogue("Earthquakes and meteors... [pause=20]the paralysis of time...")
UI:WaitShowDialogue("It's always some angry deity who's upset at the world...")

GAME:WaitFrames(10)

UI:SetSpeaker(player, false)
UI:SetSpeakerEmotion("Worried")
UI:WaitShowDialogue("(Hm...)")
UI:WaitShowDialogue("(I don't like reading, [pause=10]but the tales are usually telling battles against beings of power...)")
UI:WaitShowDialogue("(Maybe it's no different for what's happening here.)")
UI:WaitShowDialogue("(But what about the medallion I picked up?)")
UI:WaitShowDialogue("(Does this hold the key to anything...?)")

GAME:WaitFrames(60)

UI:SetSpeaker(Madilyn)
UI:SetSpeakerEmotion("Normal")
UI:WaitShowDialogue("[color=#00FFFF]Kecleon[color] should be waiting for us ahead.")
UI:WaitShowDialogue("For someone who spends a lot of time near his shop, [pause=10]he's rather quick.")
UI:WaitShowDialogue("Let's meet up with him before he runs off by himself.")

SOUND:PlayBGM("None", true, 20)
GAME:FadeOut(false, 40)
SV.chapter1.road_to_crumble_cutscene = true

GAME:WaitFrames(60)

GAME:EnterZone('roadwalkpathway', -1, 0, 0)

walkCyclePlayer = true --failsafe
walkCycleMadilyn = true
walkCycleKecleon = true

GAME:CutsceneMode(false)
end

-------------------------------Locator Scripts-------------------------------------

function LocationPlacer()
UI:ResetSpeaker(false)

SV.playerinfo.continent = nil

choices = {"The Origin Region",
    "The Sky Region",
    "The Magna Region",
	"The Prospect Region",
	"Other..."}

UI:BeginChoiceMenu("What region did you come from?", choices, 1, 6)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then
SV.playerinfo.continent = 'RescueTeam' -- equals true anyways?
	TownPlacer()
elseif result == 2 then
SV.playerinfo.continent = 'Explorers'
	TownPlacer()
elseif result == 3 then
SV.playerinfo.continent = 'GatesToInf'
	TownPlacer()
elseif result == 4 then
SV.playerinfo.continent = 'Super'
	TownPlacer()
elseif result == 5 then
SV.playerinfo.continent = 'Undefined'
	TownPlacer()
else
end

end

function TownPlacer() --Places Town
UI:ResetSpeaker(false)

SV.playerinfo.town = nil

	if SV.playerinfo.continent == 'RescueTeam' then

choices = {"Pokémon Square",
    "A Friend Area",
    "I'm not sure... / Somewhere around there",
	"Go back"}

UI:BeginChoiceMenu("Where did you live in the [color=#FFC663]Origin Region[color]?", choices, 1, 4)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then
SV.playerinfo.town = 'PokemonSquare'
JobPlacer()
elseif result == 2 then
SV.playerinfo.town = 'FriendZone'
JobPlacer()
elseif result == 3 then
SV.playerinfo.town = 'Unsure'
JobPlacer()
else
LocationPlacer()
end

	elseif SV.playerinfo.continent == 'Explorers' then

choices = {"Treasure Town",
    "Pokémon Beach, Village, or Garden",
	"Shaymin Village",
    "I'm not sure... / Somewhere around there",
	"Go back"}

UI:BeginChoiceMenu("Where did you live in the [color=#FFC663]Sky Region[color]?", choices, 1, 5)
UI:WaitForChoice()
result = UI:ChoiceResult()
if result == 1 then
SV.playerinfo.town = 'TreasureTown'
JobPlacer()
elseif result == 2 then
SV.playerinfo.town = 'AdventureSquad'
JobPlacer()
elseif result == 3 then
SV.playerinfo.town = 'ShayminVillage'
JobPlacer()
elseif result == 4 then
SV.playerinfo.town = 'Unsure'
JobPlacer()
else
LocationPlacer()
end

	elseif SV.playerinfo.continent == 'GatesToInf' then

choices = {"Post Town",
    "I'm not sure... / Somewhere around there",
	"Go back"}

UI:BeginChoiceMenu("Where did you live in the [color=#FFC663]Magna Region[color]?", choices, 1, 3)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then
SV.playerinfo.town = 'PostTown'
JobPlacer()
elseif result == 2 then
SV.playerinfo.town = 'Unsure'
JobPlacer()
else
LocationPlacer()
end

	elseif SV.playerinfo.continent == 'Super' then

choices = {"Serene Village",
    "Lively Town",
    "I'm not sure... / Somewhere around there",
	"Go back"}

UI:BeginChoiceMenu("Where did you live in the [color=#FFC663]Prospect Region[color]?", choices, 1, 4)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then
SV.playerinfo.town = 'SereneVillage'
JobPlacer()
elseif result == 2 then
SV.playerinfo.town = 'LivelyTown'
JobPlacer()
elseif result == 3 then
SV.playerinfo.town = 'Unsure'
JobPlacer()
else
LocationPlacer()
end

	elseif SV.playerinfo.continent == 'Undefined' then

choices = {"Base Town", --PMD: Origins (Doesn't make sense, but hey, it's here.)
    "Metano Town", --Halcyon
	"Baram Town", --Air Continent
	"Capim Town", --Grass Continent
	"Noe Town", --Mist Continent
	"Ramle Town", --Sand Continent
	"I live on the road",
    "I don't really know...",
	"Go back"}

UI:BeginChoiceMenu("You may not live at a major region, [pause=10]but you certainly live at...", choices, 1, 9)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then
SV.playerinfo.town = 'BaseCamp'
JobPlacer()
elseif result == 2 then
SV.playerinfo.town = 'MetanoTown'
JobPlacer()
elseif result == 3 then
SV.playerinfo.town = 'BaramTown'
JobPlacer()
elseif result == 4 then
SV.playerinfo.town = 'CapimTown'
JobPlacer()
elseif result == 5 then
SV.playerinfo.town = 'NoeTown'
JobPlacer()
elseif result == 6 then
SV.playerinfo.town = 'RamleTown'
JobPlacer()
elseif result == 7 then
SV.playerinfo.town = 'Nomad'
JobPlacer()
elseif result == 8 then
SV.playerinfo.town = 'LostSoul'
JobPlacer()
else
LocationPlacer()
end

end

end

function JobPlacer()
SV.playerinfo.job = nil

if SV.playerinfo.town == 'AdventureSquad' or SV.playerinfo.town == 'FriendZone' or SV.playerinfo.town == 'Nomad' then

UI:SetCenter(true)
UI:WaitShowDialogue("This choice relates to a special situation.[pause=0]\nYou cannot describe your life further.")
UI:ChoiceMenuYesNo("Would you like these choices to be final? [pause=20]\nThese cannot be changed later.", false)
UI:WaitForChoice()
UI:SetCenter(false)
ch = UI:ChoiceResult()
if ch then

else
    TownPlacer()
end

elseif SV.playerinfo.town == 'LostSoul' then

choices = {"I have no home to go back to...",
	"I do have a home!"}

UI:BeginChoiceMenu("Whatever the circumstances are, [pause=10]you're absolutely sure you have no home?", choices, 2, 2)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then

else
TownPlacer()
end

else

choices = {"I studied for school.",
    "I prepared to be an explorer.",
    "I was a courier!",
    "I helped around the town.",
    "I just enjoyed life.",
	"Go back"}

UI:BeginChoiceMenu("What was your life like back then? [pause=20]What did you do?", choices, 1, 6)
UI:WaitForChoice()
result = UI:ChoiceResult()

if result == 1 then
SV.playerinfo.job = 'Study'
FinalCheck()
elseif result == 2 then
SV.playerinfo.job = 'Prepared'
FinalCheck()
elseif result == 3 then
SV.playerinfo.job = 'Courier'
FinalCheck()
elseif result == 4 then
SV.playerinfo.job = 'Helper'
FinalCheck()
elseif result == 5 then
SV.playerinfo.job = 'Vibed'
FinalCheck()
else
TownPlacer()
end

end

end

function FinalCheck()

UI:SetCenter(true)
UI:ChoiceMenuYesNo("Are you certain about your answers?[pause=20]\nThese cannot be changed later.", false)
UI:WaitForChoice()
UI:SetCenter(false)
ch = UI:ChoiceResult()
if ch then

else
    JobPlacer()
end

end

function GenderCheck(chara, form, uppercase) --Uppercase?

    local gender = chara.CurrentForm.Gender --Ripped straight from Halcyon just for this segment because I don't feel like replacing the very few 'they/them' stuff at the minute.
    local value = ""
    
    if gender == Gender.Female then
        local female_pronouns = {
            ["Mister or misses"] = "miss",
        }
        value = female_pronouns[form]
    elseif gender == Gender.Male then
        local male_pronouns = {
            ["Mister or misses"] = "mister", --I am unfamiliar with formal it/they stuff.
        }
        value = male_pronouns[form]
    else -- if neither male or female, use they/them, so just return the form 
        value = form
    end

return uppercase and value:gsub("^%l", string.upper) or value

end


return cutscenecrumblingcanyon

