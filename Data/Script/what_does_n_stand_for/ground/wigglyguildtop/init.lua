--[[
    init.lua
    Created: 06/07/2023 00:31:09
    Description: Autogenerated script file for the map wigglyguildtop.
]]--
-- Commonly included lua functions and data
require 'what_does_n_stand_for.common'

-- Package name
local wigglyguildtop = {}

-- Local, localized strings table
-- Use this to display the named strings you added in the strings files for the map!
-- Ex:
--      local localizedstring = STRINGS.MapStrings['SomeStringName']


-------------------------------
-- Map Callbacks
-------------------------------
---wigglyguildtop.Init(map)
--Engine callback function
function wigglyguildtop.Init(map)

  --This will fill the localized strings table automatically based on the locale the game is 
  -- currently in. You can use the MapStrings table after this line!
  

end

---wigglyguildtop.Enter(map)
--Engine callback function
function wigglyguildtop.Enter(map)

  GAME:FadeIn(20)

end

---wigglyguildtop.Exit(map)
--Engine callback function
function wigglyguildtop.Exit(map)


end

---wigglyguildtop.Update(map)
--Engine callback function
function wigglyguildtop.Update(map)


end

---wigglyguildtop.GameSave(map)
--Engine callback function
function wigglyguildtop.GameSave(map)


end

---wigglyguildtop.GameLoad(map)
--Engine callback function
function wigglyguildtop.GameLoad(map)

  GAME:FadeIn(20)

end

-------------------------------
-- Entities Callbacks
-------------------------------

function wigglyguildtop.SignA_Action(obj, activator)
local player =CH('PLAYER')

UI:SetSpeaker(player)
UI:SetSpeakerEmotion("Normal")
UI:WaitShowDialogue("(It's a whole bunch of rules.)")
UI:WaitShowDialogue("(Guess it doesn't hurt to skim through it...)")

GAME:WaitFrames(20)

UI:SetSpeakerEmotion("Worried")
UI:WaitShowDialogue("(Blah blah, [pause=10]restock, [pause=10]blah blah, [pause=10]smile miles, [pause=10]blah blah, [pause=10]run away, [pause=10]blah blah, [pause=10]money is shared...)")
UI:WaitShowDialogue("(...Wait, [pause=10]what in the world is a Job List?)")

end

function wigglyguildtop.SignB_Action(obj, activator)
local player =CH('PLAYER')

  UI:ResetSpeaker()
  UI:SetCenter(true)
  UI:SetAutoFinish(true)
  UI:WaitShowDialogue("Welcome!\n[color=#69edff]Wigglytuff[color]'s Guild!")
  UI:WaitShowDialogue("No salespeople!\nNo agents! No survey takers!")
  UI:SetCenter(false)
  UI:SetAutoFinish(false)
  
  GAME:WaitFrames(30)
  	SOUND:PlayBattleSE("EVT_Emote_Sweatdrop")
	GROUND:CharSetEmote(player, "sweatdrop", 1)
		GAME:WaitFrames(40)
		
	UI:SetSpeaker(player)
	UI:SetSpeakerEmotion("Worried")
	UI:WaitShowDialogue("(It doesn't even stop there.)")
	GAME:WaitFrames(10)
	
  UI:ResetSpeaker()
  UI:SetCenter(true)
  UI:SetAutoFinish(true)
  UI:WaitShowDialogue("No loiterers, bandits, thieves, mass criminals, CERTAINLY NO DARKRAI, no bankers, no yellow journalists, no evil spirits (specifically evil), no job associates, no dopplegangers...!")
  UI:SetCenter(false)
  UI:SetAutoFinish(false)

	GAME:WaitFrames(20)
	
	UI:SetSpeaker(player)
	UI:SetSpeakerEmotion("Pain")
	UI:WaitShowDialogue("(Jeesh, [pause=10]they really don't want anybody inside this guild...)")

end

function wigglyguildtop.LeaveGuild_Touch(obj, activator)

		GAME:FadeOut(false, 20)
		GAME:EnterGroundMap("wigglyguildent", "EntranceFront")

end

function wigglyguildtop.EnterGuild_Touch(obj, activator)

		GAME:FadeOut(false, 20)
		GAME:EnterGroundMap("wigglyguildmiddle", "Entrance")

end
--The signs were a major highlight in this area, because this area lacks any story relevance.
return wigglyguildtop

